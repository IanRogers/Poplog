HELP * VED_REPLY (Unix only)                  Revised A.Sloman June 1989
                                                        Revised Jan 2005

LIB VED_REPLY
LIB VED_RESPOND
Replying to mail in VED

Provides commands to prepare a reply to a message. This does not send
the message. It merely prepares the message header in a Ved buffer. The
message can be sent after editing, using ENTER send or ENTER sendmr
See HELP SEND, HELP VED_GETMAIL

Use of these facilities requires

    uses vedmail
    (E.g. in your $poplib/vedinit.p file)

-- Summary ------------------------------------------------------------

    ENTER reply
        reply only to sender
    ENTER Reply
        prepare a reply to all recipients of original message.

    ENTER respond
        prepare a reply only to sender, with an indented copy of the
        original message
    ENTER Respond
        like ENTER respond, but prepares a reply to all the original
        recipients.

With various optional extra arguments.

         CONTENTS - (Use ENTER g to access required sections)

 -- Summary
 -- Overview
 -- Sending the reply
 -- How the reply facility works
 -- Optional extra arguments
 -- Example of use
 -- Ensure that LIB POPHOST is up to date
 -- Related Documentation

-- Overview -----------------------------------------------------------

The commands
    ENTER reply
    ENTER Reply
    ENTER respond
    ENTER Respond

can be used with a Unix format mail file in the VED buffer, such as the
typical unix mbox file. It is used to begin a reply to a specific
message, either to the original sender alone (ved_reply) or to all the
recipients of the original message (ved_Reply). It allows various
optional arguments specifying where the reply should be located.

-- Sending the reply --------------------------------------------------

The reply commands do not send the reply, they merely produce a suitable
mail header in the VED buffer that can be used for a reply, using the
commands
    ENTER send
    ENTER sendmr

as described in HELP * SEND.


-- How the reply facility works ---------------------------------------

LIB VED_REPLY assumes that each mail message starts with 'From ' at the
beginning of a line.

If the VED cursor is within a mail message then
    ENTER reply

starts a header for a message to the sender, with same subject. The new
message is in a marked range.

    ENTER Reply

is similar, but attempts to produce a 'Cc: ' line with names of the others
who received the original message. They will then receive copies of the
reply when the message is sent. The program attempts to remove the user
from the To: list and the Cc: list, but this depends on recognizing
the user's mail address. This in turn depends on the correct entry for
pophost("sitemailname") having been installed in LIB POPHOST.


-- Optional extra arguments -------------------------------------------

Either command (reply or Reply) can be given an optional extra argument
which is one of:

    integer
        insert reply above the line with that number

    @t
        insert reply above Top of current message

    @z
        insert reply at the end of the current file

    @x
        insert reply at end of last accessed file that is still
        in -vedbufferlist- (i.e. the file that <ESC> x would take you to

    @<string>
        insert reply immediately ABOVE next line containing the string.

    .
        insert reply above current line

    <file name>
        insert reply at end of the named file

If no argument is given, then the reply is inserted immediately after
the current message.

-- Example of use -----------------------------------------------------

Suppose 'ENTER reply' is typed with the cursor in the following
message addressed to aarons@cogs.sussex.ac.uk, cogs being the machine I
use:

                            ----------------
From rogere@psunb.uucp Fri Oct 24 08:55:31 1986
From: Roger Evans <rogere@psunb.uucp>
To: aarons@cogs.sussex.ac.uk
Subject: scrolling, vedalignscreen etc.
Cc: gkt@uk.co.fooco, drw@uk.co.fooco, hack@psunb.uucp,joe@cogs.sussex.ac.uk

        <text>
                            ----------------

The following will be generated by ved_reply after the message, and the
range after the 'To:' line will be ready marked, in preparation for use
of ved_sendmr (ENTER sendmr - send marked range):

    From Aaron Sloman
    to: rogere@psunb.uucp
    Subject: scrolling, vedalignscreen etc.

If, however, 'ENTER Reply' is typed, i.e. using upper case 'R', then a
reply to all recipients is begun thus:

    From Aaron Sloman
    to: rogere@psunb.uucp
    Subject: scrolling, vedalignscreen etc.
    Cc: gkt@uk.co.fooco,drw@uk.co.fooco,hack@psunb.uucp,joe

Notice that joe's machine name is removed, since he is on the same
machine, and the sender is, by default, not in the list of recipients
since after it is sent the message will be in a VED file anyway.

The program deals with various formats of UNIX mail headers, but is not
guaranteed to get them right every time.


-- Ensure that LIB POPHOST is up to date ------------------------------

ved_Reply tries to clean up addresses of people on the current machine
in the Cc: list. For this purpose it uses entries in LIB * POPHOST,
which need to be set by the system manager for your machine, in order to
work properly. If this is not done, the result may be unnecessarily
verbose mail addresses for local recipients and an extra copy sent to
you if you don't remove yourself from the Cc: list created by ved_Reply.

NOTE
LIB VED_REPLY is not at present available on VMS

-- Related Documentation ----------------------------------------------

TEACH * MAIL    - general introduction
HELP * MAIL     - making Unix mail use VED as its editor
HELP * VED_MAIL - reading Unix mail into VED
HELP * SEND     - sending mail in VED, using ved_send, ved_sendmr
HELP * VED_MDIR - getting a index to a Unix mail file in VED
HELP * POPHOST  - information about current computer
LIB  * VED_MCM  - mark current message
LIB  * VED_CCM  - clear current message (retrieve with ved_y)
LIB  * VED_GM   - Go to message - from VED_MDIR index file

--- C.unix/help/ved_reply
--- Copyright University of Sussex 2005. All rights reserved. ----------
